<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Foxit PDF SDK For Web</title>
  <link rel="stylesheet" href="./lib/PDFViewCtrl.css" />
</head>
<body>
  <div id="pdf-viewer"></div>
  <script src="./lib/license-key.js"></script>
  <script src="./lib/PDFViewCtrl.full.js"></script>
  <script>
    console.log('foxit is loaded');

    // Check if PDFViewCtrl and PDFViewer are defined
    if (typeof PDFViewCtrl !== 'undefined' && PDFViewCtrl.PDFViewer) {
      const { PDFViewer } = PDFViewCtrl;

      // Initialize the PDF viewer
      const pdfViewer = new PDFViewer({
        libPath: './lib',
       jr: {
          licenseKey:
            "PjwcmTSsMS6sbxteo14LZt3KdFZNUVqlKIMd66B3R6Z5JI+C5KOuBVaX+uqnVMTySy4HUJzjSbCXF9VuQuV6+skfdxOupHmxqq0CSr+3LFmCKtPRE4iK3/Jef6KR83t7greI9Vu2NbBqyOPb6sTcSUogZo2sEsL7SrmObqHhoF7n2X2Zc8x1EBNXKdK+gC+EKv0jDXeEUPhO3yjV6Ew9gUFeZBQRZ7bbzMN+Gt5VmWC/9LrPdRzzuUVlhmh5UIoCPR9M0gneSsNwyE4X+Hpj3ERpLEQfwXX5OoIhAUYWxH7F+k+3i9/6gKdO7wxK54qFLuaezMaY1ONkGcTaJzSlsJvvgQuwgJppMGSCPKtUeaStTXAvWdMa0sANJQUdClB75NgXI9jHP3Zfn+ombPfqc+1m9YWd5kcGMpEdErZq/fEvMTlMdczJXw1mJuAnlhRi6JiQtgiBa/VI9wrNbEL+IDSFi88gGzA4xWFWfLAv5dDAyqfC+o0T7ZPEnPGo5R6TCxwSVtP2l7KxULczS90NQFuLcOaWN8VSDs3jTKJ3dadPHu0GQNSlscTiOPoi5vZmROOpUc7M2aBZUOPqWudeEdFDdu3JjI3Shv/a8m6J5kst+GtjM8goC4CNGhVANZ/d0i7secBSwUc+VeMhSSgzqRK81v6ICVydxzMbvfuFooD3EdeT7RuTazQXUHD+LWf6Irc6QKe/mFR1+d8haDuDCpg6H16kg6Oz8HIPhunFw1l0kb3EHpnqOj8Y+18i9Mhu8EDKX6XzINmVZv9U46rjTISVrUh3e2ZDI2cUbssKkmKYOPWu67c1dEbVK+EGkOmUAhOi36MZ3HYz15qigwJIjkNUroXz+L2mQXSule6hHF0QBtn5y4RPYvSpRFvKyJfwvGE3zQjPmX1JfvFqX4zfALbFYRz4GiOgag08OlIcm9tZlxXXz0D8BmguZctFVCTXuXAxpLkoKyoHZbZDnF6W6LFS//nwRSWdwNddnbjUTdFyPEAH1mygY463iJtG7EY00Xf5gIulqtyXaPU8D064qroY3qKnSG0T/SZUI69gN0LffcTpNpeX2dDzfXSaCW3xTHqjiWDi4mVpTa3kfYvi90b622/Pjq4rEhs/t/unFi0l7MB31QjY87gXfI7sHlc9j2/BYUfreCYZl2EAzJ9KzfKIw+nE5n/URIYytIifqbVY5PjQBGai5gI85892L244iAVjXM7yLLksYd/useEp",
          licenseSN: "eCwtLet2zR57snNdu2ZZcwwi8rs8B61fcvofaZLjWW7i6uj/TSlNtw==",
        },
      });
      pdfViewer.init('#pdf-viewer');

      // Listen for messages from the parent window
      window.addEventListener('message', function (event) {
        if (event.data instanceof ArrayBuffer) {
          pdfViewer
            .openPDFByFile(event.data)
            .then(() => {
              console.log('PDF loaded successfully');
            })
            .catch((error) => {
              console.error('Error loading PDF:', error);
            });
        } else {
          console.error('Invalid PDF data received:', event.data);
        }
      });
    } else {
      console.error('PDFViewCtrl or PDFViewer is not defined.');
    }
  </script>
</body>
</html>
